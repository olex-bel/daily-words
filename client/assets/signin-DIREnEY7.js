import{y as o,p as s,z as l,w as m,x as c}from"./chunk-WWGJGFF6-8djDTm2d.js";import{i as d}from"./index-BCAHj4U7.js";import{s as u}from"./supabase-B_K81v3k.js";import{V as p}from"./ViewCenter-CjFryxq8.js";import{S as x}from"./Surface-Br18wGdW.js";import{u as a}from"./useTranslation-YS5tDbaE.js";function f(){const{t:n}=a(),e=o(),i=e.state==="submitting",t=e.data?.message;return s.jsxs(x,{className:"w-full max-w-md p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:n("signin.title")}),s.jsxs(e.Form,{action:"/signin",method:"post",className:"flex flex-col gap-4",children:[s.jsx("div",{className:`overflow-hidden transition-all duration-200 ease-out ${t?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:t&&s.jsx("div",{role:"alert",className:"p-3 rounded bg-red-100 text-red-800",children:t})}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold mb-1",children:n("signin.emailLabel")}),s.jsx("input",{type:"email",name:"email",required:!0,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("label",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold mb-1",children:n("signin.passwordLabel")}),s.jsx("input",{type:"password",name:"password",required:!0,className:"border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsx("button",{type:"submit",className:"bg-primary text-white py-2 rounded-md font-semibold hover:scale-105 transition-transform",disabled:i,children:n("signin.submitButton")}),s.jsxs("p",{className:"text-sm text-ink-light mt-2 text-center",children:[n("signin.noAccount"),s.jsx(l,{to:"/signup",className:"text-primary font-semibold hover:underline ml-1",children:n("signin.signupLink")})]})]})]})}async function N({request:n}){const e=await n.formData(),i=e.get("email"),t=e.get("password"),{error:r}=await u.auth.signInWithPassword({email:i,password:t});return r?{success:!1,message:d.t("signin.errorMessage")}:c("/dashboard")}const k=m(function(){const{t:e}=a();return s.jsxs(p,{children:[s.jsx("title",{children:e("signin.meta.title")}),s.jsx("meta",{name:"description",content:e("signin.meta.description")}),s.jsx("meta",{name:"keywords",content:e("signin.meta.keywords")}),s.jsx(f,{})]})});export{N as clientAction,k as default};
